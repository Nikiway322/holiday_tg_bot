# Телеграм-бот «Какой сегодня праздник?»

Бот ходит на `https://kakoysegodnyaprazdnik.ru/`, парсит список праздников на сегодня и в ответ выдает подборку плюс тост за один из праздников.

## Быстрый старт
1. Установите зависимости (желательно в виртуальное окружение):
   ```
   pip install -r requirements.txt
   ```
2. Создайте переменную окружения `BOT_TOKEN` со значением токена вашего бота от BotFather.
   - Windows PowerShell: `setx BOT_TOKEN "123:token"`
   - Linux/macOS: `export BOT_TOKEN="123:token"`
3. Запустите бота:
   ```
   python bot.py
   ```

## Запуск в Docker
1. Соберите образ:
   ```
   docker build -t holiday-bot .
   ```
2. Запустите контейнер, передав токен:
   ```
   docker run --rm -e BOT_TOKEN="123:token" holiday-bot
   ```
   при необходимости смонтируйте том для логов или добавьте свои переменные окружения.

## Как пользоваться
- В ЛС: отправьте любое сообщение или команду `/povod` (есть алиас `/holiday`).
- В группе/супергруппе: бот отвечает на команды `/povod` и `/holiday`, чтобы не спамить в поток сообщений.

## Что под капотом
- `aiogram 3` для Telegram.
- `requests` + `beautifulsoup4` для парсинга HTML.
- Разбор страницы: берем первый блок `div.listing > div.listing_wr` и достаем все названия праздников из `div.main`, где есть `span[itemprop="text"]` или `a.prazdnik_info`.
- Тосты собираются из набора шаблонов; случайно выбирается один из найденных праздников.

## Заметки
- Сайт иногда медленный; при сбое бот вернет понятное сообщение и не упадет.

